<Layout::Helm l-c>

	<Layout::Helm::Menu>
		<div>
			<a {{on "click" (scroll-to top=0 smooth=true)}}>
				<i class="fas fa-arrow-up"></i>
				<span>Back to top</span>
			</a>
		</div>
		<nav>
			{{#each this.model as |item|}}
				<Layout::Helm::Menu::Item @text={{item.link}} @link="#{{item.hash}}" selected={{is-waypoint item.hash}} />
			{{/each}}
		</nav>
	</Layout::Helm::Menu>

	<Layout::Helm::Main>

		{{#each this.model as |item idx|}}

			<section {{waypoint item.hash}}>

				{{#if (ne idx 0)}}
					<Layout::Gap mini />
				{{/if}}

				<Layout::Text text-l>

					<h2>{{item.name}}</h2>

					{{#if item.time}}
						<p code>
							{{#if (gt item.time (now))}}
								Planned {{date-format item.time "DD MMMM, YYYY"}}
							{{else}}
								{{date-format item.time "DD MMMM, YYYY"}}
							{{/if}}
						</p>
					{{/if}}

				</Layout::Text>

				{{#if item.info}}
					{{#if (is-component item.info)}}
						{{#let (component item.info) as |component|}}
							<component />
						{{/let}}
					{{/if}}
				{{/if}}

				{{#if item.text}}
					<Layout::Text text-l>
						<ul>
							{{#each item.text as |item|}}
								<li>{{{item}}}</li>
							{{/each}}
						</ul>
					</Layout::Text>
				{{/if}}

				{{#if item.data}}
					{{#each item.data as |sect|}}
						<Layout::Text text-l>
							<p>{{sect.name}}</p>
						</Layout::Text>
						<Layout::Text text-l>
							<ul>
								{{#each sect.text as |item|}}
									<li>{{{item}}}</li>
								{{/each}}
							</ul>
						</Layout::Text>
						<Layout::Gap tiny />
					{{/each}}
				{{/if}}

				{{#if item.path}}
					{{#if (is-component item.path)}}
						<Layout::Gap tiny />
						{{#let (component item.path) as |component|}}
							<component />
						{{/let}}
					{{/if}}
				{{/if}}

				<Layout::Gap mini />

			</section>

		{{/each}}

		<Layout::Gap small />

	</Layout::Helm::Main>

</Layout::Helm>